<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>圣经希伯来文闪卡 | Basics of Biblical Hebrew</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=SBL+Hebrew&family=Noto+Sans+SC:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#3498db">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="希伯来文闪卡">
</head>
<body>

<div class="main-container">
    <h1>圣经希伯来文词汇闪卡</h1>
    
    <div class="mode-switcher">
        <button id="mode-flashcard" class="active">闪卡模式</button>
        <button id="mode-quiz">测试模式</button>
        <button id="mode-review">复习模式</button>
    </div>

    <div class="controls">
        <label for="start-chapter">从:</label>
        <select id="start-chapter"></select>
        <label for="end-chapter">到:</label>
        <select id="end-chapter"></select>
        <button id="shuffle-btn">随机顺序</button>
    </div>

    <div class="autoplay-controls">
        <button id="autoplay-btn">自动播放</button>
        <button id="background-play-btn" style="display: none;">后台播放</button>
        <label for="autoplay-speed">速度:</label>
        <select id="autoplay-speed">
            <option value="4000">4秒</option>
            <option value="6000">6秒</option>
            <option value="8000" selected>8秒</option>
            <option value="10000">10秒</option>
            <option value="12000">12秒</option>
            <option value="16000">16秒</option>
        </select>
    </div>
    
    <div id="flashcard-view" class="flashcard-container">
        <div class="flashcard-scene">
            <div class="flashcard" id="flashcard">
                <div class="card-face card-front">
                    <div class="hebrew-word-container">
                        <div id="card-front-content" class="hebrew-word hebrew-font"></div>
                        <button id="speak-btn-flashcard" class="speak-btn">🔊</button>
                    </div>
                </div>
                <div class="card-face card-back">
                    <div id="card-back-content" class="info"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="quiz-view" class="quiz-container hidden">
        <div class="hebrew-word-container">
            <div id="quiz-word" class="hebrew-font"></div>
            <button id="speak-btn-quiz" class="speak-btn">🔊</button>
        </div>
        <div id="quiz-answer-display" class="info hidden"></div>
        <button id="show-answer-btn">显示答案</button>
        <div id="rating-buttons" class="rating-buttons hidden">
            <button class="rate-btn" data-quality="0">0: 没印象</button>
            <button class="rate-btn" data-quality="1">1: 认错了</button>
            <button class="rate-btn" data-quality="2">2: 费力想起</button>
            <button class="rate-btn" data-quality="3">3: 想起来了</button>
            <button class="rate-btn" data-quality="4">4: 轻松想起</button>
            <button class="rate-btn" data-quality="5">5: 脱口而出</button>
        </div>
    </div>

    <div class="navigation-buttons">
        <button id="prev-btn">上一张 (←)</button>
        <button id="next-btn">下一张 (→)</button>
    </div>
    
    <div id="progress" class="progress"></div>
</div>

<script src="js/data.js"></script>
<script src="js/main.js"></script>

<script>
// Register Service Worker for background audio support
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('./sw.js')
    .then((registration) => {
      console.log('SW registered successfully');
    })
    .catch((error) => {
      console.log('SW registration failed');
    });
}
</script>

</body>
</html>